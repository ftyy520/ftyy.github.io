<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åå °ä¸€ä¸­æ ¡å›­ç”Ÿæ´»æŒ‡å—</title>
  <style>
    :root {
      --primary: #2c5aa0;
      --accent: #f5c32c;
      --light: #f8f9fa;
      --dark: #1a365d;
      --glass-bg: rgba(255, 255, 255, 0.85);
      --shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
      --border-radius: 18px;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "PingFang SC", "Microsoft YaHei", "SF Pro Display", sans-serif;
    }
    
    /* æ–°å¢èƒŒæ™¯å›¾ç‰‡æ§åˆ¶ */
    body {
      background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), 
                  var(--bg-image, url('assets/bg-default.jpg')) center/cover no-repeat fixed;
      min-height: 100vh;
      padding: 80px 20px 40px; /* è°ƒæ•´åº•éƒ¨è¾¹è· */
      position: relative;
      overflow-x: hidden;
      transition: background 0.5s ease;
    }
    
    /* èƒŒæ™¯æ§åˆ¶é¢æ¿ */
    .bg-control {
      display: none; /* éšè—å³ä¸‹è§’çš„èƒŒæ™¯æ§åˆ¶é¢æ¿ */
    }
    
    .glass-card {
      background: var(--glass-bg);
      backdrop-filter: blur(16px);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      border: 1px solid rgba(255, 255, 255, 0.18);
      transition: var(--transition);
    }
    
    /* é¡¶éƒ¨å¯¼èˆªä¼˜åŒ– */
    .global-header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(255, 255, 255, 0.95);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      padding: 16px 24px;
      display: flex;
      align-items: center;
      z-index: 1000;
    }
    
    .logo {
      font-weight: 800;
      font-size: 1.4rem;
      letter-spacing: -0.5px;
      color: var(--primary);
      text-decoration: none;
      display: flex;
      align-items: center;
    }
    
    .logo::before {
      content: "ğŸ";
      margin-right: 8px;
      font-size: 1.2em;
    }
    
    .breadcrumb {
      margin-left: 20px;
      font-size: 0.95rem;
      color: #666;
      display: flex;
      align-items: center;
    }
    
    .breadcrumb span {
      margin: 0 6px;
      color: #bbb;
    }
    
    #sidebarToggle {
      background: none;
      border: none;
      font-size: 1.6rem;
      cursor: pointer;
      margin-right: 15px;
      color: var(--primary);
    }
    
    /* å…¨å±€æœç´¢ä¼˜åŒ– - å·²ç§»é™¤ */
    
    /* æ–°å¢è¿”å›é¦–é¡µæŒ‰é’®æ ·å¼ - å¢å¼ºè§†è§‰æ•ˆæœ */
    .home-button {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--primary);
      color: white;
      border: 3px solid white; /* æ–°å¢ç™½è‰²è¾¹æ¡† */
      border-radius: 50%;
      width: 60px; /* å¢å¤§å°ºå¯¸ */
      height: 60px; /* å¢å¤§å°ºå¯¸ */
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.6rem; /* å¢å¤§å›¾æ ‡ */
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); /* å¢å¼ºé˜´å½± */
      z-index: 1001;
      cursor: pointer;
      transition: var(--transition);
      opacity: 0.9;
    }
    
    .home-button:hover {
      background: var(--dark);
      transform: scale(1.1); /* å¢å¤§æ‚¬åœæ•ˆæœ */
      opacity: 1;
      box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4); /* å¢å¼ºæ‚¬åœé˜´å½± */
    }
    
    /* å“åº”å¼è°ƒæ•´ */
    @media (max-width: 768px) {
      .home-button {
        top: 15px;
        right: 15px;
        width: 50px;
        height: 50px;
        font-size: 1.3rem;
      }
    }
    
    /* å†…å®¹åŒºåŸŸä¼˜åŒ– */
    .content-section {
      position: absolute;
      width: calc(100% - 40px);
      padding: 30px;
      opacity: 0;
      transform: translateY(25px);
      transition: var(--transition);
      pointer-events: none;
    }
    
    .content-section.active {
      opacity: 1;
      transform: translateY(0);
      pointer-events: all;
    }
    
    /* é¦–é¡µæ ·å¼ä¼˜åŒ– */
    #home {
      text-align: center;
      padding-top: 40px;
    }
    
    #home h1 {
      font-size: 2.8rem;
      font-weight: 800;
      color: var(--dark);
      margin-bottom: 20px;
      letter-spacing: -1px;
      background: linear-gradient(to right, var(--primary), var(--accent));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }
    
    #home p {
      font-size: 1.2rem;
      color: #666;
      margin-bottom: 50px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    
    /* ä¼˜åŒ–åçš„æŒ‰é’®ç½‘æ ¼ */
    .button-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 28px;
      margin-top: 40px;
      max-width: 1200px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .main-nav-button {
      background: white;
      border: none;
      border-radius: var(--border-radius);
      padding: 25px 20px;
      transition: var(--transition);
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      min-height: 180px;
      justify-content: center;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(44, 90, 160, 0.1);
    }
    
    .main-nav-button::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(to right, var(--primary), var(--accent));
      opacity: 0.7;
      transition: var(--transition);
    }
    
    .main-nav-button:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
    }
    
    .main-nav-button:hover::before {
      height: 8px;
      opacity: 1;
    }
    
    .main-nav-button span {
      font-weight: 700;
      font-size: 1.25rem;
      color: var(--dark);
      position: relative;
      z-index: 2;
    }
    
    /* æ–°å¢å­åˆ†ç±»é¡µé¢æ ·å¼ */
    .subcategory-page {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      padding: 80px 20px 40px;
      overflow-y: auto;
    }
    
    .subcategory-content {
      max-width: 1000px;
      margin: 0 auto;
      background: var(--glass-bg);
      border-radius: var(--border-radius);
      padding: 30px;
      position: relative;
    }
    
    .close-subcategory {
      position: absolute;
      top: 20px;
      right: 20px;
      background: none;
      border: none;
      font-size: 1.8rem;
      cursor: pointer;
      color: #999;
      transition: var(--transition);
    }
    
    .close-subcategory:hover {
      color: var(--primary);
      transform: rotate(90deg);
    }
    
    .subcategory-title {
      font-size: 2rem;
      font-weight: 800;
      color: var(--dark);
      margin-bottom: 30px;
      text-align: center;
    }
    
    .subcategory-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 20px;
    }
    
    .subcategory-button {
      background: white;
      border: none;
      border-radius: var(--border-radius);
      padding: 25px 20px;
      transition: var(--transition);
      cursor: pointer;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      min-height: 150px;
      justify-content: center;
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(44, 90, 160, 0.1);
    }
    
    .subcategory-button::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(to right, var(--primary), var(--accent));
      opacity: 0.7;
      transition: var(--transition);
    }
    
    .subcategory-button:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.12);
    }
    
    .subcategory-button:hover::before {
      height: 8px;
      opacity: 1;
    }
    
    .subcategory-button span {
      font-weight: 700;
      font-size: 1.1rem;
      color: var(--dark);
      position: relative;
      z-index: 2;
    }
    
    /* ä¾§è¾¹ç›®å½•ä¼˜åŒ– */
    #sidebar {
      position: fixed;
      top: 0;
      left: -320px;
      width: 300px;
      height: 100vh;
      background: var(--glass-bg);
      box-shadow: 10px 0 30px rgba(0, 0, 0, 0.1);
      z-index: 1001;
      transition: var(--transition);
      padding: 85px 25px 25px;
      overflow-y: auto;
      backdrop-filter: blur(20px);
      border-right: 1px solid rgba(0, 0, 0, 0.05);
    }
    
    #sidebar.active {
      left: 0;
    }
    
    .sidebar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }
    
    .sidebar-header h3 {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--primary);
    }
    
    #closeSidebar {
      background: none;
      border: none;
      font-size: 1.8rem;
      cursor: pointer;
      color: #999;
      transition: var(--transition);
    }
    
    #closeSidebar:hover {
      color: var(--primary);
      transform: rotate(90deg);
    }
    
    .chapter-tree details {
      margin-bottom: 15px;
    }
    
    .chapter-tree summary {
      font-weight: 700;
      padding: 16px 20px;
      cursor: pointer;
      background: rgba(240, 245, 255, 0.7);
      border-radius: 12px;
      transition: var(--transition);
      color: var(--dark);
      list-style: none;
      position: relative;
    }
    
    .chapter-tree summary::after {
      content: "â€º";
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%) rotate(0deg);
      transition: var(--transition);
      font-size: 1.5rem;
    }
    
    .chapter-tree details[open] summary::after {
      transform: translateY(-50%) rotate(90deg);
    }
    
    .chapter-tree summary:hover {
      background: rgba(232, 240, 255, 0.9);
    }
    
    .chapter-tree a {
      display: block;
      padding: 14px 25px;
      text-decoration: none;
      color: #555;
      transition: var(--transition);
      border-left: 3px solid transparent;
      font-size: 0.98rem;
      border-radius: 8px;
      margin: 5px 0;
    }
    
    .chapter-tree a:hover {
      color: var(--primary);
      border-left: 3px solid var(--accent);
      background: rgba(245, 195, 44, 0.08);
      transform: translateX(5px);
    }
    
    /* å†…å®¹ç¼–è¾‘åŒºä¼˜åŒ– */
    .content-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 2px solid rgba(245, 195, 44, 0.3);
    }
    
    .content-header h2 {
      font-size: 2rem;
      font-weight: 800;
      color: var(--dark);
      letter-spacing: -0.5px;
      background: linear-gradient(to right, var(--dark), var(--primary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 10px;
    }
    
    .content-header button {
      background: var(--primary);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 50px;
      cursor: pointer;
      font-weight: 600;
      transition: var(--transition);
      display: flex;
      align-items: center;
    }
    
    .content-header button:hover {
      background: var(--dark);
      transform: translateX(-5px);
    }
    
    .content-header button::before {
      content: "â†";
      margin-right: 8px;
    }
    
    .editable-area {
      min-height: 500px;
      padding: 35px;
      border-radius: var(--border-radius);
      margin-top: 20px;
      background: rgba(255, 255, 255, 0.95);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
    }
    
    /* æ ¡å›­åœ°å›¾æ¨¡å—ä¼˜åŒ– */
    #map-container {
      height: 550px;
      border-radius: var(--border-radius);
      overflow: hidden;
      margin-top: 25px;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
      background: linear-gradient(135deg, #e6f0ff, #f5f9ff);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    
    #map-container::before {
      content: "æ ¡å›­åœ°å›¾åŠ è½½ä¸­...";
      color: #999;
      font-size: 1.2rem;
      position: absolute;
    }
    
    .map-controls {
      display: flex;
      gap: 12px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }
    
    .map-controls .search-box {
      flex: 1;
      min-width: 300px;
      position: relative;
    }
    
    .map-controls .search-box input {
      width: 100%;
      padding: 14px 20px;
      border-radius: 50px;
      border: 1px solid rgba(44, 90, 160, 0.15);
      background: rgba(240, 245, 255, 0.7);
      font-size: 1rem;
      padding-right: 50px;
    }
    
    .map-controls .search-box button {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: var(--primary);
      font-size: 1.2rem;
      cursor: pointer;
    }
    
    .map-layers {
      display: flex;
      gap: 10px;
    }
    
    .map-layers button {
      padding: 12px 25px;
      border-radius: 50px;
      background: white;
      color: var(--primary);
      border: 1px solid rgba(44, 90, 160, 0.2);
      cursor: pointer;
      font-weight: 600;
      transition: var(--transition);
    }
    
    .map-layers button:hover {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    
    .location-card {
      padding: 25px;
      margin-top: 25px;
      border-radius: var(--border-radius);
    }
    
    .location-card h3 {
      font-size: 1.6rem;
      margin-bottom: 15px;
      color: var(--dark);
    }
    
    .location-card p {
      margin-bottom: 20px;
      color: #666;
    }
    
    .location-card button {
      background: var(--accent);
      color: #333;
      border: none;
      padding: 12px 25px;
      border-radius: 50px;
      cursor: pointer;
      font-weight: 700;
      transition: var(--transition);
    }
    
    .location-card button:hover {
      background: #e0b027;
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(245, 195, 44, 0.3);
    }
    
    /* è¯„è®ºåŒºä¼˜åŒ– */
    .comment-section {
      margin-top: 40px;
      padding: 30px;
      border-radius: var(--border-radius);
    }
    
    .comment-section h3 {
      font-size: 1.8rem;
      margin-bottom: 25px;
      color: var(--dark);
      display: flex;
      align-items: center;
    }
    
    .comment-section h3 span {
      font-size: 1rem;
      background: var(--accent);
      color: #333;
      padding: 3px 12px;
      border-radius: 20px;
      margin-left: 15px;
      font-weight: 500;
    }
    
    .comment-editor {
      padding: 25px;
      margin-bottom: 30px;
      border-radius: var(--border-radius);
      background: white;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
    }
    
    .comment-editor textarea {
      width: 100%;
      height: 120px;
      padding: 20px;
      border-radius: 20px;
      border: 1px solid rgba(0, 0, 0, 0.08);
      resize: none;
      font-size: 1rem;
      transition: var(--transition);
    }
    
    .comment-editor textarea:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(44, 90, 160, 0.1);
    }
    
    .editor-actions {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }
    
    .editor-tools button {
      background: none;
      border: none;
      font-size: 1.4rem;
      cursor: pointer;
      margin-right: 15px;
      color: #999;
      transition: var(--transition);
    }
    
    .editor-tools button:hover {
      color: var(--primary);
      transform: scale(1.1);
    }
    
    .editor-actions .submit {
      background: var(--primary);
      color: white;
      border: none;
      padding: 12px 35px;
      border-radius: 50px;
      cursor: pointer;
      font-weight: 700;
      transition: var(--transition);
    }
    
    .editor-actions .submit:hover {
      background: var(--dark);
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(44, 90, 160, 0.3);
    }
    
    .comment-list {
      max-height: 600px;
      overflow-y: auto;
      padding-right: 10px;
    }
    
    .comment-item {
      display: flex;
      gap: 20px;
      padding: 25px;
      border-radius: var(--border-radius);
      background: white;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      margin-bottom: 20px;
      transition: var(--transition);
    }
    
    .comment-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    
    .comment-item .avatar {
      width: 55px;
      height: 55px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid var(--light);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      flex-shrink: 0;
    }
    
    .comment-body {
      flex: 1;
    }
    
    .comment-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
      flex-wrap: wrap;
    }
    
    .comment-header strong {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--dark);
    }
    
    .comment-header .badge {
      background: var(--accent);
      color: #333;
      padding: 3px 12px;
      border-radius: 15px;
      font-size: 0.85rem;
      font-weight: 600;
    }
    
    .comment-header .badge.teacher {
      background: linear-gradient(to right, var(--primary), #3a6fc4);
      color: white;
    }
    
    .comment-header span {
      font-size: 0.9rem;
      color: #999;
      margin-left: auto;
    }
    
    .like-btn {
      background: rgba(245, 195, 44, 0.15);
      color: #333;
      border: none;
      padding: 5px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      transition: var(--transition);
    }
    
    .like-btn:hover {
      background: rgba(245, 195, 44, 0.25);
    }
    
    .like-btn::before {
      content: "â™¥";
      margin-right: 5px;
      color: #e74c3c;
    }
    
    .comment-body p {
      font-size: 1.05rem;
      color: #555;
      line-height: 1.7;
    }
    
    .comment-reply {
      margin-top: 20px;
      padding-left: 20px;
      border-left: 3px solid rgba(44, 90, 160, 0.1);
    }
    
    /* å“åº”å¼ä¼˜åŒ– */
    @media (max-width: 1024px) {
      .button-grid {
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 20px;
      }
      
      .global-search {
        width: 200px;
      }
      
      .subcategory-grid {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      }
    }
    
    @media (max-width: 768px) {
      .button-grid {
        grid-template-columns: 1fr;
      }
      
      .content-section {
        padding: 20px;
        width: calc(100% - 40px);
      }
      
      #home h1 {
        font-size: 2.2rem;
      }
      
      .main-nav-button {
        min-height: 150px;
        padding: 20px 15px;
      }
      
      #map-container {
        height: 400px;
      }
      
      .global-search {
        display: none;
      }
      
      .map-controls .search-box {
        min-width: 100%;
      }
      
      .map-layers {
        width: 100%;
        justify-content: center;
      }
      
      .bg-control {
        bottom: 60px;
        right: 10px;
        flex-direction: row;
      }
      
      .bg-preview {
        width: 50px;
        height: 50px;
      }
      
      .comment-item {
        padding: 15px;
        gap: 15px;
      }
      
      .comment-item .avatar {
        width: 45px;
        height: 45px;
      }
      
      .subcategory-content {
        padding: 20px;
      }
      
      .subcategory-title {
        font-size: 1.6rem;
        margin-bottom: 20px;
      }
      
      .subcategory-button {
        min-height: 120px;
        padding: 15px;
      }
    }
    
    @media (max-width: 480px) {
      .content-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
      }
      
      .content-header button {
        align-self: flex-end;
        padding: 10px 20px;
      }
      
      .editable-area {
        padding: 20px;
      }
      
      .comment-item {
        padding: 15px;
        gap: 12px;
      }
      
      .comment-item .avatar {
        width: 40px;
        height: 40px;
      }
      
      .bg-control {
        bottom: 40px;
        right: 5px;
      }
      
      .bg-preview {
        width: 40px;
        height: 40px;
      }
      
      .logo {
        font-size: 1.2rem;
      }
      
      .logo::before {
        font-size: 1em;
      }
      
      .breadcrumb {
        display: none;
      }
      
      .content-header h2 {
        font-size: 1.6rem;
      }
      
      .map-layers button {
        padding: 10px 15px;
        font-size: 0.9rem;
      }
      
      .subcategory-grid {
        grid-template-columns: 1fr;
      }
    }
    
    /* ä¿®å¤å›¾æ ‡æ˜¾ç¤ºé—®é¢˜ */
    .nav-item img {
      max-width: 100%;
      height: auto;
    }
    
    /* æ–°å¢æ»šåŠ¨å¹³æ»‘è¿‡æ¸¡ */
    html {
      scroll-behavior: smooth;
    }
    
    /* æ–°å¢åŠ è½½åŠ¨ç”» */
    .loading {
      position: relative;
      overflow: hidden;
    }
    
    .loading::after {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      animation: loading 1.5s infinite;
    }
    
    @keyframes loading {
      100% {
        left: 100%;
      }
    }
    
    /* æ–°å¢è¯„è®ºåŒºåŠ¨ç”» */
    .comment-item {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeIn 0.5s forwards;
    }
    
    @keyframes fadeIn {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* æ–°å¢æŒ‰é’®ç‚¹å‡»åé¦ˆ */
    button:active {
      transform: scale(0.95);
      transition: transform 0.1s;
    }
    
    /* è‡ªå®šä¹‰æ ·å¼ */
    .title-container {
      text-align: center;
      margin: 50px 0;
    }
    
    .custom-title {
      font-family: 'STKaiti', 'KaiTi', 'SimKai', serif;
      font-size: 3.5rem;
      font-weight: 800;
      margin-bottom: 15px;
      background: linear-gradient(135deg, var(--primary), #4a86e8);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      letter-spacing: 2px;
    }
    
    .subtitle {
      font-family: 'STLiti', 'LiSu', 'SimHei', sans-serif;
      font-size: 1.8rem;
      color: var(--primary);
      opacity: 0.9;
      letter-spacing: 1px;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }
  </style>
</head>
<body>
  <!-- è¿”å›é¦–é¡µæŒ‰é’® -->
  <button class="home-button" onclick="showSection('home')">ğŸ </button>
  
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <header class="global-header glass-card">
    <button id="sidebarToggle">â˜°</button>
    <a href="#home" class="logo">åå °ä¸€ä¸­æŒ‡å—</a>
    <div class="breadcrumb">
      <a href="#home">é¦–é¡µ</a> <span>â€º</span> <span id="current-chapter">æŒ‡å—ç›®å½•</span>
    </div>
    
    <!-- å…¨å±€æœç´¢å·²ç§»é™¤ -->
  </header>
  
  <!-- èƒŒæ™¯å›¾ç‰‡æ§åˆ¶ -->
  <!-- å·²éšè—å³ä¸‹è§’çš„èƒŒæ™¯æ§åˆ¶é¢æ¿ -->
  
  <!-- ä¾§è¾¹ç›®å½• -->
  <div id="sidebar" class="glass-card">
    <div class="sidebar-header">
      <h3>ç›®å½•å¯¼èˆª</h3>
      <button id="closeSidebar">âœ•</button>
    </div>
    <div class="chapter-tree">
      <details>
        <summary>æ€»ä½“æ¦‚è§ˆ</summary>
        <a href="#" data-chapter="overview">å­¦æ ¡ç®€ä»‹</a>
        <a href="#" data-chapter="overview">æ ¡å›­æ–‡åŒ–</a>
        <a href="#" data-chapter="overview">å­¦æ ¡è£èª‰</a>
      </details>
      <details>
        <summary>æ–°ç”Ÿå…¥å­¦æŒ‡å—</summary>
        <a href="#" data-chapter="freshman">å…¥å­¦å‡†å¤‡</a>
        <a href="#" data-chapter="freshman">æŠ¥åˆ°æµç¨‹</a>
        <a href="#" data-chapter="freshman">å†›è®­æŒ‡å—</a>
        <a href="#" data-chapter="freshman">ç”Ÿæ´»é€‚åº”</a>
      </details>
      <details>
        <summary>ä¸€ä¸­å…¨è§£</summary>
        <a href="#" data-chapter="location">åœ°ç†ä½ç½®â€”â€”è¥¿å—é—¨</a>
        <a href="#" data-chapter="location">åœ°ç†ä½ç½®â€”â€”ä¸œåŒ—é—¨</a>
        <a href="#" data-chapter="building">æ•™å­¦æ¥¼</a>
        <a href="#" data-chapter="canteen">é£Ÿå ‚æŒ‡å—</a>
        <a href="#" data-chapter="store">å°å–éƒ¨ä¸æ–°åä¹¦åº—æŒ‡å—</a>
        <a href="#" data-chapter="dormitory">å®¿èˆæŒ‡å—</a>
        <a href="#" data-chapter="club">å­¦æ ¡ç¤¾å›¢</a>
      </details>
      <details>
        <summary>æ ¡çºªæ ¡è§„</summary>
        <a href="#" data-chapter="rules">1. å­¦ç”Ÿè¡Œä¸ºè§„èŒƒ</a>
        <a href="#" data-chapter="rules">2. è€ƒå‹¤åˆ¶åº¦</a>
        <a href="#" data-chapter="rules">3. å¥–æƒ©æ¡ä¾‹</a>
        <a href="#" data-chapter="rules">4. å®‰å…¨ç®¡ç†</a>
        <a href="#" data-chapter="rules">5. æ ¡å›­ç§©åº</a>
      </details>
      <details>
        <summary>åˆ¶ä½œä¸é¸£è°¢</summary>
        <a href="#" data-chapter="credits">åˆ¶ä½œå›¢é˜Ÿ</a>
        <a href="#" data-chapter="credits">å‚ä¸è´¡çŒ®</a>
        <a href="#" data-chapter="credits">ä½¿ç”¨å¸®åŠ©</a>
      </details>
    </div>
  </div>
  
  <!-- é¦–é¡µ -->
  <div id="home" class="content-section active"> <!-- è®¾ç½®é¦–é¡µä¸ºé»˜è®¤æ¿€æ´»çŠ¶æ€ -->
    <div class="title-container">
      <h1 class="custom-title">ä»æŒ‡å—å¼€å§‹ã®åå °ä¸€ä¸­ç”Ÿæ´»</h1>
      <p class="subtitle">æ«ç³–æ‚ æ‚ åˆ¶ä½œ</p>
    </div>
    <div class="button-grid">
      <button class="main-nav-button" onclick="openSubcategory('general-overview', 'æ€»ä½“æ¦‚è§ˆ')">
        <span>æ€»ä½“æ¦‚è§ˆ</span>
      </button>
      
      <button class="main-nav-button" onclick="openSubcategory('freshman-guide', 'æ–°ç”Ÿå…¥å­¦æŒ‡å—')">
        <span>æ–°ç”Ÿå…¥å­¦æŒ‡å—</span>
      </button>
      
      <button class="main-nav-button" onclick="openSubcategory('school-details', 'ä¸€ä¸­å…¨è§£')">
        <span>ä¸€ä¸­å…¨è§£</span>
      </button>
      
      <button class="main-nav-button" onclick="openSubcategory('school-rules', 'æ ¡çºªæ ¡è§„')">
        <span>æ ¡çºªæ ¡è§„</span>
      </button>
      
      <button class="main-nav-button" onclick="openSubcategory('credits-section', 'åˆ¶ä½œä¸é¸£è°¢')">
        <span>åˆ¶ä½œä¸é¸£è°¢</span>
      </button>
    </div>
  </div>
  
  <!-- ç›®å½•é¡µ -->
  <div id="toc" class="content-section"> <!-- ç›®å½•é¡µç°åœ¨ä¸å†é»˜è®¤æ˜¾ç¤º -->
    <div class="content-header">
      <h2>æŒ‡å—ç›®å½•</h2>
      <button onclick="showSection('home')">è¿”å›é¦–é¡µ</button>
    </div>
    <div class="button-grid">
      <button class="main-nav-button" onclick="openSubcategory('general-overview', 'æ€»ä½“æ¦‚è§ˆ')">
        <span>æ€»ä½“æ¦‚è§ˆ</span>
      </button>
      
      <button class="main-nav-button" onclick="openSubcategory('freshman-guide', 'æ–°ç”Ÿå…¥å­¦æŒ‡å—')">
        <span>æ–°ç”Ÿå…¥å­¦æŒ‡å—</span>
      </button>
      
      <button class="main-nav-button" onclick="openSubcategory('school-details', 'ä¸€ä¸­å…¨è§£')">
        <span>ä¸€ä¸­å…¨è§£</span>
      </button>
      
      <button class="main-nav-button" onclick="openSubcategory('school-rules', 'æ ¡çºªæ ¡è§„')">
        <span>æ ¡çºªæ ¡è§„</span>
      </button>
      
      <button class="main-nav-button" onclick="openSubcategory('credits-section', 'åˆ¶ä½œä¸é¸£è°¢')">
        <span>åˆ¶ä½œä¸é¸£è°¢</span>
      </button>
    </div>
  </div>
  
  <!-- æ€»ä½“ä»‹ç» -->
  <div id="overview" class="content-section">
    <div class="content-header">
      <h2>æ ¡å›­å…¨æ™¯æ¦‚è§ˆ</h2>
      <button onclick="showSection('home')">è¿”å›é¦–é¡µ</button>
    </div>
    <div class="editable-area glass-card">
      <h3>åå °å¸‚ç¬¬ä¸€ä¸­å­¦</h3>
      <p>åˆ›å»ºäº1973å¹´ï¼Œæ¹–åŒ—çœé¦–æ‰¹é‡ç‚¹ä¸­å­¦å’Œçœçº§ç¤ºèŒƒé«˜ä¸­ã€‚å åœ°253äº©ï¼Œå»ºç­‘é¢ç§¯99851å¹³æ–¹ç±³ï¼Œ75ä¸ªæ•™å­¦ç­ï¼Œ4600ä½™åå­¦ç”Ÿã€‚</p>
      
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin: 30px 0;">
        <div>
          <h4>åŠå­¦ç†å¿µ</h4>
          <p>ç§‰æ‰¿"è‚²äººä¸ºæœ¬ï¼Œå¾·è‚²ä¸ºå…ˆï¼Œå¸ˆç”Ÿå…±è¿›ï¼Œå…¨é¢å‘å±•"çš„åŠå­¦ç†å¿µï¼Œæ‰“é€ "ä½è¿›é«˜å‡ºã€é«˜è¿›ä¼˜å‡ºã€ä¼˜è¿›ç‰¹å‡ºã€å¤šå…ƒå‘å±•"äººæ‰åŸ¹å…»å“ç‰Œã€‚</p>
        </div>
        <div>
          <h4>æ ¡è®­</h4>
          <p style="font-size: 1.4rem; font-weight: 800; color: var(--primary);">æ–‡æ˜å‹¤å¥‹ Â· æ±‚å®è¿›å–</p>
        </div>
      </div>
      
      <h3>æ ¡å›­è®¾æ–½</h3>
      <ul>
        <li><strong>å››æ ‹ç°ä»£åŒ–æ•™å­¦æ¥¼</strong>ï¼šé…å¤‡æ™ºæ…§é»‘æ¿ã€ç©ºè°ƒå’Œå¤šåª’ä½“è®¾å¤‡</li>
        <li><strong>å…­æ ‹å­¦ç”Ÿå…¬å¯“</strong>ï¼šé…å¤‡ç©ºè°ƒã€æš–æ°”åŠç‹¬ç«‹å«ç”Ÿé—´</li>
        <li><strong>çœçº§è¾¾æ ‡å›¾ä¹¦é¦†</strong>ï¼šè—ä¹¦16ä¸‡å†Œï¼Œå…¨çœåœ°å¸‚å·å”¯ä¸€ä¸­å­¦"è¾¾æ ‡å›¾ä¹¦é¦†"</li>
        <li><strong>å›½å®¶çº§æ ‡å‡†ä½“è‚²åœºé¦†</strong>ï¼šæ ‡å‡†ç”°å¾„åœºã€å®¤å†…ç¯®çƒé¦†ã€æ’æ¸©æ¸¸æ³³æ± </li>
        <li><strong>ç§‘æŠ€åˆ›æ–°å®éªŒä¸­å¿ƒ</strong>ï¼š3Dæ‰“å°ã€æœºå™¨äººç¼–ç¨‹ã€ç”Ÿç‰©åŸºå› ç­‰ä¸“ä¸šå®éªŒå®¤</li>
      </ul>
      
      <h3 style="margin-top: 40px;">æ ¡å›­é£å…‰</h3>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
        <div style="height: 180px; background: #e6f0ff; border-radius: 16px; display: flex; align-items: center; justify-content: center; color: #999;">æ ¡å›­å…¨æ™¯å›¾</div>
        <div style="height: 180px; background: #e6f0ff; border-radius: 16px; display: flex; align-items: center; justify-content: center; color: #999;">å›¾ä¹¦é¦†å†…æ™¯</div>
        <div style="height: 180px; background: #e6f0ff; border-radius: 16px; display: flex; align-items: center; justify-content: center; color: #999;">ä½“è‚²åœºèˆªæ‹</div>
      </div>
    </div>
  </div>
  
  <!-- æ ¡å›­åœ°å›¾ -->
  <div id="map" class="content-section">
    <div class="content-header">
      <h2>æ ¡å›­å…¨æ™¯å¯¼èˆª</h2>
      <button onclick="showSection('home')">è¿”å›é¦–é¡µ</button>
    </div>
    <div class="map-controls">
      <!-- åœ°å›¾æœç´¢åŠŸèƒ½ä¿ç•™ -->
      <div class="search-box">
        <input type="text" id="mapSearch" placeholder="æœç´¢æ•™å­¦æ¥¼ã€é£Ÿå ‚ã€å®éªŒå®¤...">
        <button>ğŸ”</button>
      </div>
      <div class="map-layers">
        <button data-layer="default">å¹³é¢åœ°å›¾</button>
        <button data-layer="satellite">å«æ˜Ÿè§†å›¾</button>
        <button data-layer="ar" onclick="activateAR()">ARå®æ™¯å¯¼èˆª</button>
      </div>
    </div>
    <div id="map-container"></div>
    <div class="location-card glass-card">
      <h3 id="location-name">æ ¡å›­å¯¼è§ˆä¸­å¿ƒ</h3>
      <p>æä¾›æ ¡å›­åœ°å›¾ã€å»ºç­‘å¯¼è§ˆå’Œå’¨è¯¢æœåŠ¡ï¼Œå¼€æ”¾æ—¶é—´ï¼š8:00-22:00</p>
      <button onclick="planRoute()">è§„åˆ’è·¯çº¿</button>
    </div>
  </div>
  
  <!-- è¿‘æœŸæ´»åŠ¨ -->
  <div id="events" class="content-section">
    <div class="content-header">
      <h2>æ ¡å›­è¿‘æœŸæ´»åŠ¨</h2>
      <button onclick="showSection('home')">è¿”å›é¦–é¡µ</button>
    </div>
    <div class="editable-area glass-card">
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
        <div class="glass-card" style="padding: 25px; border-radius: 20px;">
          <h3 style="color: var(--primary); margin-bottom: 15px;">å­¦ç§‘æ¸¸å›­ä¼š</h3>
          <p><strong>æ—¶é—´ï¼š</strong>7æœˆ15æ—¥ 14:00-17:00</p>
          <p><strong>åœ°ç‚¹ï¼š</strong>ä¸­å¿ƒå¹¿åœº</p>
          <p>å„å­¦ç§‘è®¾ç½®è¶£å‘³å±•å°ï¼Œé€šè¿‡æ¸¸æˆå’Œå®éªŒå±•ç¤ºå­¦ç§‘é­…åŠ›</p>
        </div>
        
        <!-- æ›´å¤šæ´»åŠ¨å¡ç‰‡å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ  -->
      </div>
    </div>
  </div>
  
  <!-- åˆ¶ä½œå›¢é˜Ÿ -->
  <div id="credits" class="content-section">
    <div class="content-header">
      <h2>åˆ¶ä½œå›¢é˜Ÿ</h2>
      <button onclick="showSection('home')">è¿”å›é¦–é¡µ</button>
    </div>
    <div class="editable-area glass-card">
      <h3>å¼€å‘å›¢é˜Ÿ</h3>
      <p>æœ¬æŒ‡å—ç”±åå °ä¸€ä¸­ä¿¡æ¯æŠ€æœ¯ç¤¾å›¢å¼€å‘åˆ¶ä½œï¼Œæ—¨åœ¨ä¸ºå¸ˆç”Ÿæä¾›å…¨é¢çš„æ ¡å›­ç”Ÿæ´»æŒ‡å¼•ã€‚</p>
      
      <h3>ç‰¹åˆ«æ„Ÿè°¢</h3>
      <ul>
        <li>å­¦æ ¡æ•™åŠ¡å¤„æä¾›çš„èµ„æ–™æ”¯æŒ</li>
        <li>å„å¹´çº§å¸ˆç”Ÿæä¾›çš„å®è´µå»ºè®®</li>
        <li>å­¦æ ¡é¢†å¯¼å¯¹æœ¬é¡¹ç›®çš„å¤§åŠ›æ”¯æŒ</li>
      </ul>
      
      <h3>åé¦ˆä¸å»ºè®®</h3>
      <p>å¦‚æœæ‚¨æœ‰ä»»ä½•å»ºè®®æˆ–å‘ç°å†…å®¹æœ‰è¯¯ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š</p>
      <p>é‚®ç®±ï¼šcontact@shiyan1z.com</p>
      <p>QQç¾¤ï¼š564321879</p>
    </div>
  </div>
  
  <!-- å­åˆ†ç±»é¡µé¢ -->
  <div id="subcategory-page" class="subcategory-page">
    <div class="subcategory-content">
      <button class="close-subcategory" onclick="closeSubcategory()">âœ•</button>
      <h2 class="subcategory-title" id="subcategory-title">åˆ†ç±»æ ‡é¢˜</h2>
      <div class="subcategory-grid" id="subcategory-content">
        <!-- å­åˆ†ç±»æŒ‰é’®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
      </div>
    </div>
  </div>
  
  <script>
    // ä¾§è¾¹æ åˆ‡æ¢
    document.getElementById('sidebarToggle').addEventListener('click', function() {
      document.getElementById('sidebar').classList.toggle('active');
    });
    
    document.getElementById('closeSidebar').addEventListener('click', function() {
      document.getElementById('sidebar').classList.remove('active');
    });
    
    // å†…å®¹åŒºåŸŸåˆ‡æ¢
    function showSection(sectionId) {
      // éšè—æ‰€æœ‰å†…å®¹åŒºåŸŸ
      document.querySelectorAll('.content-section').forEach(section => {
        section.classList.remove('active');
      });
      
      // æ˜¾ç¤ºæŒ‡å®šå†…å®¹åŒºåŸŸ
      document.getElementById(sectionId).classList.add('active');
      
      // æ›´æ–°é¢åŒ…å±‘å¯¼èˆª
      if (sectionId === 'home') {
        document.getElementById('current-chapter').textContent = 'æ€»ä½“ä»‹ç»';
      } else if (sectionId === 'toc') {
        document.getElementById('current-chapter').textContent = 'æŒ‡å—ç›®å½•';
      } else {
        const sectionName = document.getElementById(sectionId).querySelector('.content-header h2').textContent;
        document.getElementById('current-chapter').textContent = sectionName;
      }
      
      // å…³é—­ä¾§è¾¹æ 
      document.getElementById('sidebar').classList.remove('active');
    }
    
    // å…¨å±€æœç´¢åŠŸèƒ½å·²ç§»é™¤
    
    // èƒŒæ™¯åˆ‡æ¢åŠŸèƒ½
    function changeBackground(imageUrl) {
      document.body.style.setProperty('--bg-image', `url('${imageUrl}')`);
      
      // ä¿å­˜ç”¨æˆ·åå¥½
      localStorage.setItem('preferredBackground', imageUrl);
    }
    
    // åŠ è½½ç”¨æˆ·åå¥½çš„èƒŒæ™¯
    document.addEventListener('DOMContentLoaded', function () {
      const preferredBackground = localStorage.getItem('preferredBackground');
      if (preferredBackground) {
        changeBackground(preferredBackground);
      }
      
      // é»˜è®¤æ˜¾ç¤ºé¦–é¡µ
      showSection('home');
    });
    
    // å­åˆ†ç±»é¡µé¢åŠŸèƒ½
    function openSubcategory(categoryId, title) {
      const subcategoryPage = document.getElementById('subcategory-page');
      const subcategoryTitle = document.getElementById('subcategory-title');
      const subcategoryContent = document.getElementById('subcategory-content');
      
      // è®¾ç½®æ ‡é¢˜
      subcategoryTitle.textContent = title;
      
      // æ¸…ç©ºç°æœ‰å†…å®¹
      subcategoryContent.innerHTML = '';
      
      // æ ¹æ®åˆ†ç±»IDè·å–å¯¹åº”çš„å­åˆ†ç±»æ•°æ®
      let subcategories = [];
      
      if (categoryId === 'general-overview') {
        subcategories = [
          { name: 'å­¦æ ¡ç®€ä»‹', action: "loadChapter('overview')" },
          { name: 'æ ¡å›­æ–‡åŒ–', action: "loadChapter('overview')" },
          { name: 'å­¦æ ¡è£èª‰', action: "loadChapter('overview')" }
        ];
      } else if (categoryId === 'freshman-guide') {
        subcategories = [
          { name: 'å…¥å­¦å‡†å¤‡', action: "loadChapter('freshman')" },
          { name: 'æŠ¥åˆ°æµç¨‹', action: "loadChapter('freshman')" },
          { name: 'å†›è®­æŒ‡å—', action: "loadChapter('freshman')" },
          { name: 'ç”Ÿæ´»é€‚åº”', action: "loadChapter('freshman')" }
        ];
      } else if (categoryId === 'school-details') {
        subcategories = [
          { name: 'åœ°ç†ä½ç½®â€”â€”è¥¿å—é—¨', action: "loadChapter('location')" },
          { name: 'åœ°ç†ä½ç½®â€”â€”ä¸œåŒ—é—¨', action: "loadChapter('location')" },
          { name: 'æ•™å­¦æ¥¼', action: "loadChapter('building')" },
          { name: 'é£Ÿå ‚æŒ‡å—', action: "loadChapter('canteen')" },
          { name: 'å°å–éƒ¨ä¸æ–°åä¹¦åº—æŒ‡å—', action: "loadChapter('store')" },
          { name: 'å®¿èˆæŒ‡å—', action: "loadChapter('dormitory')" },
          { name: 'å­¦æ ¡ç¤¾å›¢', action: "loadChapter('club')" }
        ];
      } else if (categoryId === 'school-rules') {
        subcategories = [
          { name: '1. å­¦ç”Ÿè¡Œä¸ºè§„èŒƒ', action: "loadChapter('rules')" },
          { name: '2. è€ƒå‹¤åˆ¶åº¦', action: "loadChapter('rules')" },
          { name: '3. å¥–æƒ©æ¡ä¾‹', action: "loadChapter('rules')" },
          { name: '4. å®‰å…¨ç®¡ç†', action: "loadChapter('rules')" },
          { name: '5. æ ¡å›­ç§©åº', action: "loadChapter('rules')" }
        ];
      } else if (categoryId === 'credits-section') {
        subcategories = [
          { name: 'åˆ¶ä½œå›¢é˜Ÿ', action: "loadChapter('credits')" },
          { name: 'å‚ä¸è´¡çŒ®', action: "loadChapter('credits')" },
          { name: 'ä½¿ç”¨å¸®åŠ©', action: "loadChapter('credits')" }
        ];
      }
      
      // ç”Ÿæˆå­åˆ†ç±»æŒ‰é’®
      subcategories.forEach(subcategory => {
        const button = document.createElement('button');
        button.className = 'subcategory-button';
        button.innerHTML = `<span>${subcategory.name}</span>`;
        button.onclick = function() {
          closeSubcategory();
          eval(subcategory.action);
        };
        subcategoryContent.appendChild(button);
      });
      
      // æ˜¾ç¤ºå­åˆ†ç±»é¡µé¢
      subcategoryPage.style.display = 'block';
    }
    
    function closeSubcategory() {
      document.getElementById('subcategory-page').style.display = 'none';
    }
    
    // åŠ è½½ç« èŠ‚å†…å®¹
    function loadChapter(chapterId) {
      // è¿™é‡Œå¯ä»¥æ ¹æ®ç« èŠ‚IDåŠ è½½ä¸åŒçš„å†…å®¹
      console.log(`Loading chapter: ${chapterId}`);
      
      // æ˜¾ç¤ºå¯¹åº”çš„å†…å®¹åŒºåŸŸ
      showSection(chapterId);
      
      // æ›´æ–°é¢åŒ…å±‘å¯¼èˆª
      const chapterName = document.querySelector(`[data-chapter="${chapterId}"]`).textContent;
      document.getElementById('current-chapter').textContent = chapterName;
    }
    
    // åœ°å›¾ç›¸å…³åŠŸèƒ½
    function activateAR() {
      alert('ARå®æ™¯å¯¼èˆªåŠŸèƒ½å³å°†ä¸Šçº¿ï¼Œæ•¬è¯·æœŸå¾…ï¼');
    }
    
    function planRoute() {
      alert('è·¯çº¿è§„åˆ’åŠŸèƒ½å³å°†ä¸Šçº¿ï¼Œæ•¬è¯·æœŸå¾…ï¼');
    }
  </script>
</body>
</html>  